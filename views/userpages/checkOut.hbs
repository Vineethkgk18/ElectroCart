
<!--Main layout-->
<main class="pt-1">
    <div class="container wow fadeIn">
            <!-- Heading -->
            <h2 class="my-5 h2 text-center">Checkout form</h2>
            {{!-- cards to select address --}}
            <h2 class="pb-3"> Select Address</h2>
            <div class="row">
             
                {{#each user.Address}}
               
                    <div class="card pl-3 pt-1 pb-1 m-1" style="width: 18rem;">
                    <div class="card-body">
                    <div class="form-check">
                        <input type="radio" onclick="billingAddress('{{this.addId}}')" class="form-check-input " id="radio1"
                        name="optradio" value="">
                        <label class="form-check-label pt-3 " for="radio1"></label>
                    </div>
                    <h5 class="card-title ">{{this.Name}}</h5>
                    <h6 class="card-subtitle mb-1 text-muted">ph: {{this.mobile}}</h6>
                    <p class="card-text">address: {{this.Address}}</p>
                    <p class="card-text">zip: {{this.Pincode}}</p>
                    {{!-- <a href="/userDetails" class="btn btn-primary mt-3">Manage</a> --}}
                    {{!-- <a href="#" class="card-link">Another link</a> --}}
                    </div>
                </div>
                {{/each}}
<!------    -------------->

    </div>
    <a href="/addAddress" class="btn btn-outline-success mt-4 mr-2">Add New Address</a>
    <a href="/userDetails" class="btn btn-outline-success mt-4">Manage Addresses</a>
    <!--Grid row-->
    <div class="row pt-5">

      <!--Grid column-->
      <div class="col-md-6 mb-4">
        <h2 class="pb-4">Billing Address</h2>

        <!--Card-->
        <div class="card">

          <!--Card content-->
          <form class="card-body">
            <form action="" method="post">
              {{!-- <div class="form-row"> --}}
                <div class="form-group">
                  <label for="inputAddress2">Full Name</label>
                  <input type="text" disabled name="Name" class="form-control" id="Name"
                    value="{{this.Name}}">
                </div>
                              {{!-- </div> --}}
              <div class="form-group ">
                <label for="inputEmail4">Email</label>
                <input type="email" disabled name="email" class="form-control" id="email" value="{{this.Email}}">
              </div>
              <div class="form-group ">
                <label for="inputEmail4">Phone number</label>
                <input type="number" disabled name="phoneNumber" class="form-control" id="phoneNumber"
                  value="{{this.mobile}}">
              </div>
              <div class="form-group">
                <label for="inputAddress2">Address</label>
                <input type="text" disabled name="address" class="form-control" id="address" value="{{this.address}}">
              </div>
              <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="inputCity">City</label>
                        <input type="text" disabled name="city" class="form-control" id="city" value="{{this.city}}">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="inputState">State</label>                  
                        <input type="text" disabled name="state" class="form-control" id="state" value="{{this.state}}">
                    </div>
                    <div class="form-group col-md-2">
                        <label for="inputZip">Zip</label>
                        <input type="text" disabled name="pincode" class="form-control" id="pincode" value="{{this.Pincode}}">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="inputCity">Landmark</label>
                        <input type="text" disabled name="landmark" class="form-control" id="landmark"
                        value="{{this.landmark}}">
                    </div>
              </div>
              {{!-- <div class="form-group">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="gridCheck">
                  <label class="form-check-label" for="gridCheck">
                    Check me out
                  </label>
                </div>
              </div> --}}

            </form>



          </form>

        </div>
        <!--/.Card-->

      </div>
      <!--Grid column-->

      <!--Grid column-->
      <div class="col-md-4 mb-4">

        <!-- Heading -->
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          {{!-- <span class="text-muted">Your cart</span> --}}
          <h2 class="pb-3">Your Cart</h2>
          {{!-- <span class="badge badge-secondary badge-pill">3</span> --}}
        </h4>

        <!-- Cart -->
        <ul class="list-group  mb-3 z-depth-1">
          {{#each Products}}
          <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0">{{this.product.Product_Name}}</h6>
              <small class="text-muted">X{{this.quantity}}</small>
            </div>
            <span class="text-muted" {{this.productId._id}}price>₹{{this.product.Price}}</span>
          </li>
          {{/each}}
          {{!-- ############################################3 --}}
          
           {{!-- <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0">Second product</h6>
              <small class="text-muted">Brief description</small>
            </div>
            <span class="text-muted">$8</span>
          </li> --}}

          {{!-- <li class="list-group-item d-flex justify-content-between lh-condensed">
            <div>
              <h6 class="my-0">Third item</h6>
              <small class="text-muted">Brief description</small>
            </div>
            <span class="text-muted">$5</span>
          </li>  --}}

          
          
          <li class="list-group-item d-flex justify-content-between bg-light">
            <div class="text-success">
              {{!-- <h6 class="my-0">Promo code</h6> --}}
              <h6 class="my-0 mt-1">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
                Available Coupons
              </button>
              </h6>
              {{!-- <small>EXAMPLECODE</small> --}}
              {{!-- <small>{{this.Coupon_Code}}</small> --}}
            </div>
            {{!-- <span class="text-success">{{this.Discount_Amount}}</span> --}}
          </li>
          
          <!-- The Modal -->
         <div class="modal" id="myModal">
            <div class="modal-dialog modal-dialog-centered ">
                <div class="modal-content">

                    <!-- Modal Header -->
                  <div class="modal-header">
                      {{!-- <h4 class="modal-title">Select Coupon</h4> --}}
                      <button type="button" class="btn-close" onclick="myFunction()" data-bs-dismiss="modal">Select Coupon</button>
                  </div>

                  <!-- Modal body -->
                  <div class="modal-body">
                    {{#each coupon}}
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioCoupon">
                        <label class="form-check-label" for="flexRadioDefault1">
                          {{this.Coupon_Name}}
                        </label>
                      </div>
                    {{/each}}  

                  </div>

                  <!-- Modal footer -->
                  <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Apply Coupon</button>
                  </div>



                </div>
            </div>  
          </div>

          
          
          <div id="price" class="priceClass"> 
            <li class="list-group-item d-flex justify-content-between">
              {{!-- <span>Total (USD)</span> --}}
              <span>Total </span>
              <strong>₹{{totalPrice}}</strong>
            </li>
          </div>
        </ul>
        <!-- Cart -->

        <!-- Promo code -->
        <form class="card p-2">
          <div class="input-group">
            <input type="text" class="form-control" placeholder="Promo code" aria-label="Recipient's username"
              aria-describedby="basic-addon2">
            <div class="input-group-append">
              <button class="btn btn-secondary btn-md waves-effect m-0" onclick="discount('coupon._id')" id="cuponCode" type="button">Redeem</button>
            </div>
          </div>
        </form>
        <!-- Promo code -->


        {{!-- payment method --}}
        <form action="" id="checkOutPayment">
          <h2 class="ml-2 mt-4">Payment Mode</h2>
          <div class="form-check mt-4 ml-5">
            <input class="form-check-input" type="radio" name="paymentMethod" value="COD" id="flexRadioDefault1">
            <label class="form-check-label" for="flexRadioDefault1">
              COD
            </label>
          </div>
          <div class="form-check ml-5">
            <input class="form-check-input" type="radio" name="paymentMethod" value="Online Payment"
              id="flexRadioDefault2">
            <label class="form-check-label" for="flexRadioDefault2">
              Online Payment
            </label>
          </div>
          <div class="pt-5 text-center"> <button type="button" onclick="confirmOrderButton()" class="btn btn-success "
              id="confirmOrder">Confirm Order</button> </div>
        </form>
      </div>
      <!--Grid column-->
      </form>
    </div>
    <!--Address div-->


  </div>
</main>
<!--Main layout-->